services:
  rating_scorer.calculator:
    class: Drupal\rating_scorer\Service\RatingScoreCalculator
    arguments:
      - '@entity_type.manager'
      - '@?fivestar.vote_result_manager'
  rating_scorer.field_detection:
    class: Drupal\rating_scorer\Service\FieldDetectionService
    arguments:
      - '@entity_type.manager'
      - '@plugin.manager.field.field_type'

  rating_scorer.field_creation:
    class: Drupal\rating_scorer\Service\FieldCreationService
    arguments:
      - '@entity_type.manager'

  rating_scorer.rating_module_detection:
    class: Drupal\rating_scorer\Service\RatingModuleDetectionService
    arguments:
      - '@module_handler'
      - '@entity_field.manager'
      - '@plugin.manager.field.field_type'

  rating_scorer.rating_data_provider_manager:
    class: Drupal\rating_scorer\Service\RatingDataProviderManager
    arguments:
      - '@module_handler'

  rating_scorer.dashboard:
    class: Drupal\rating_scorer\Service\RatingScorerDashboardService
    arguments:
      - '@entity_type.manager'
      - '@config.factory'
      - '@database'
      - '@plugin.manager.field.field_type'

  rating_scorer.field_storage_config_subscriber:
    class: Drupal\rating_scorer\EventSubscriber\FieldStorageConfigSubscriber
    arguments:
      - '@config.factory'
      - '@entity_type.manager'
    tags:
      - { name: 'event_subscriber' }

  rating_scorer.commands:
    class: Drupal\rating_scorer\Commands\RatingScorerCommands
    arguments:
      - '@config.factory'
      - '@entity_type.manager'
    tags:
      - { name: 'drush.command_provider' }
